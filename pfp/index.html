<!doctype html>
<html lang="en">

<head>
    <!-- Meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PFP3</title>

    <!-- Bootstrap CSS (light mode) -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">  -->

    <!-- DARK MODE -->
    <!-- SOURCE:  https://github.com/vinorodrigues/bootstrap-dark-5 -->
    <!-- Bootstrap CSS (dark mode) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@0.1/dist/css/bootstrap-night.min.css" rel="stylesheet">
    <!-- Locally hosted version -->
    <!-- <link href="./css/bootstrap-night.min.css" rel="stylesheet"> -->

    <!-- The page supports only a dark color scheme -->
    <meta name="color-scheme" content="dark">


    <!-- Favicon and app icons, generated by realfavicongenerator.net -->
    <!-- NOTE:  Change  /images/  to  images/  so it works locally as well -->
    <!-- REFERENCE:  https://stackoverflow.com/a/13780457/1263035 -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/icons/favicon-16x16.png">
    <link rel="manifest" href="images/icons/site.webmanifest">
    <link rel="mask-icon" href="images/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="images/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="msapplication-config" content="images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">




    <!-- My CSS -->
    <style>
        /* Hide these (ids) until shown */
        /* I'm also adding a class to these, to default them to hidden when Reset is pressed, and so I don't have to keep adding each id */
        .startHidden,
        #expandPold,
        #resultsBoxContainer,
        #inputHiddenWireLength,
        #hiddenWireHelp,
        #selectSplitSystem {
            display: none;
        }

        .resultsBoxContainer {
            max-width: 600px;
            /* Setting div to 3.5in width works for html2pdf */
            /* width: 3.5in; */
            /* Setting div to 4x6 for printing didn't seem to work as expected */
            /* width: 4in; */
            /* height: 6in; */
        }

        /* Hide the SO# on boxes beyond the first, in the results window, until you print */
        .soBox {
            display: none;
        }


        /* Page break after each new box */
        /* HISTORY:  Pulled this out of @media print so it works with html2pdf as well */
        /* NOTE:  Added newBoxBefore1 and newBoxBefore2 to fix html2pdf inserting the page break in wrong location (issue with nested divs) */
        .newBoxBefore2 {
            /* page-break-before replaced by break-before (change 'always' to 'page'*/
            /* page-break-before: always; */
            break-before: page;
            /* margin-top: 20px; */
        }

        /* Makes placeholder divs smaller so they don't create big gaps */
        /* TODO: Maybe remove this rule when saving/printing  */
        /* HISTORY:  html2pdf was having trouble with page break locations with unstandard div heights,
         so i disabled this rule initially, but now that i'm not using external css it seems to work */
        .newBoxBefore1,
        .newBoxBefore2 {
            height: 2px;
        }



        /* FUNCTION:  Makes the "Saving..." message div cover the whole window size, to prevent ugly css viewing */
        /* TODO:  Fix/add CSS so the width doesn't create scrollbars */
        /* REFERENCE:  https://stackoverflow.com/questions/1575141/how-to-make-a-div-100-height-of-the-browser-window */
        /* html,
        body, */
        .savingMessage {
            color: #E1E1E1;
            background-color: #222222;
            /* height: 100%; */
            height: 100vh;
            /* height: calc(100vh - 300px); */
            /* min-height: 100vh; */
            /* width: 100%; */
            width: 100vw;
            /* width: calc(1000vw - 300px); */
            /* min-width: 100vw; */
            /* margin: 0; */
            /* overflow-y: hidden; // hide vertical */
            /* overflow-x: hidden; // hide horizontal */
        }

        /* FUNCTION:  Vertically aligns the "Saving..." text */
        .savingMessage h1 {
            /* vertical-align: middle; */
            /* FUNCTION:  Center the text on the page */
            /* SOURCE:  https://www.w3docs.com/snippets/css/how-to-vertically-center-text-with-css.html#use-css-flexbox-8 */
            display: flex;
            width: 100%;
            height: 100%;
            /* margin: 0; */
            /* margin: auto; */
            /* border-radius: 10px; */
            /* border: 3px dashed #1c87c9; */
            align-items: center;
            justify-content: center;
            /* overflow-y: hidden; // hide vertical */
            /* overflow-x: hidden; // hide horizontal */
        }

        /* Testing changing css dynamically */
        /* Run changeCSS(); in showDebugCheck() function (clicking version number)  */
        /* #pageTitle {
    border-style: solid;
    border-color: aqua;
    border-radius: 5px;
} */

        /* Testing changing css dynamically */
        /* Run changeCSS(); in showDebugCheck() function (clicking version number)  */
        /* .newBox {
            border-style: solid;
            border-color: rgb(2, 0, 114);
            border-radius: 5px;
            border-width: 5px;
        } */





        /*  PRINT OPTIONS (onprint) */
        @media print {

            /* Show the SO# on boxes beyond the first when you print */
            /* Unhide the divs used for making page breaks (compatible with html2pdf) */
            /* .soBox, .newBoxBefore1, .newBoxBefore2 { */
            .soBox {
                display: block;
            }

            /* Hide the weights when printing */
            .weightCurrentBox {
                display: none;
            }

            /*  Defines colors for printing as: white background, black text */
            /*  HISTORY:  It was printing with gray text as default in dark mode*/
            /*  HISTORY:  Color was not working on <pre> text until i changed .pre to pre (duh, it's not a class) */
            .resultsBoxContainer,
            pre,
            html,
            body,
            .newBox,
            .container,
            .container-sm {
                color: black;
                background-color: white;
            }

            @page {
                color: black;
                background-color: white;
            }


            /* FUNCTION:  Hide the added header/footer page details that get printed by browser */
            /* This is done by making a 0 or negative margin on the print version of the page,
            which overrides the headers/footers added in the margins by the browser,
            you then add margin back to the html element.
            The downside is pages beyond the first won't be styled correctly, 
            so i added margin on my divs specific to the results box */
            /* SOURCE:  https://stackoverflow.com/a/38506980 */
            @page {
                margin: 0 0cm
            }

            html {
                margin: 0cm 0cm
            }

            /* Fixes the page if it's firefox */
            /* Not really an issue now. 0 padding seems to be working in chrome, firefox, and edge. */
            /* @-moz-document url-prefix() {
                @page {
                    margin: 0 0cm
                }
            } */

            /* Fixes the page if it's firefox */
            /* @-moz-document url-prefix() {
                html {
                    margin: 0cm 0cm
                }
            } */

            /* Margin added to results divs to make pages after the first not hit the edge of page */
            .resultsBoxContainer {
                /* margin: 2cm 2cm; */
                padding-top: 20px;
                /* margin-right: 20px; */
                /* margin-bottom: 20px; */
                padding-left: 20px;
            }

            /* Margin added to results divs to make pages after the first not hit the edge of page */
            .newBox {
                /* margin: 2cm 2cm; */
                padding-top: 20px;
                /* margin-right: 20px; */
                /* margin-bottom: 20px; */
                /* margin-left: 20px; */
            }

            /* Adding elements with bootstrap d-print-none class added, so external stylesheet for html2pdf works */
            .d-print-none {
                display: none;
            }

        }




        /*  SAVE/PRINT OPTIONS (on save, addPrintCss()) */
        /*  Duplicating PRINT OPTIONS (onprint) for html2pdf saving*/

        /* Show Saving... message (to prevent weird css flash of white) */
        .printCss .savingMessage {
            display: block;
        }

        /* Show the SO# on boxes beyond the first when you print */
        /* Unhide the divs used for making page breaks (compatible with html2pdf) */
        /* .soBox, .newBoxBefore1, .newBoxBefore2 { */
        .printCss .soBox {
            display: block;
        }

        /* Hide the weights when printing */
        .printCss .weightCurrentBox {
            display: none;
        }

        /*  Defines colors for printing as: white background, black text */
        /*  HISTORY:  It was printing with gray text as default in dark mode*/
        /*  HISTORY:  Color was not working on <pre> text until i changed .pre to pre (duh, it's not a class) */
        .printCss .resultsBoxContainer,
        .printCss pre,
        .printCss html,
        .printCss,
        .printCss body,
        .printCss .newBox,
        .printCss .container,
        .printCss .container-sm {
            color: black;
            background-color: white;
        }

        /* This rule may not work, I'm not sure if @page can have a parent div/class */
        /* .printCss @page {
            color: black;
            background-color: white;
        } */

        /* FUNCTION:  Hide the added header/footer page details that get printed by browser */
        /* This is done by making a 0 or negative margin on the print version of the page,
            which overrides the headers/footers added in the margins by the browser,
            you then add margin back to the html element.
            The downside is pages beyond the first won't be styled correctly, 
            so i added margin on my divs specific to the results box */
        /* SOURCE:  https://stackoverflow.com/a/38506980 */
        /* This rule may not work, I'm not sure if @page can have a parent div/class */
        /* .printCss @page {
            margin: 0 0cm
        } */

        .printCss html,
        .printCss {
            margin: 0cm 0cm
        }

        /* Margin added to results divs to make pages after the first not hit the edge of page */
        .printCss .resultsBoxContainer {
            /* margin: 2cm 2cm; */
            padding-top: 20px;
            /* margin-right: 20px; */
            /* margin-bottom: 20px; */
            padding-left: 20px;
        }

        /* Margin added to results divs to make pages after the first not hit the edge of page */
        /* NOTE:  Maybe delete. This may conflict with the changeCSSAddPadding function if you load it after calling the function  */
        .printCss .newBox {
            /* margin: 2cm 2cm; */
            /* border-style: solid; */
            /* border-color: aqua; */
            /* border-radius: calc(20px + boxNumber); */
            /* padding-top: calc(20px + boxNumber); */
            /* padding-top: calc(20px + (boxNumber * 10)); */
            padding-top: 20px;
            /* margin-top: 20px; */
            /* margin-right: 20px; */
            /* margin-bottom: 20px; */
            /* margin-left: 20px; */
        }

        /* Makes placeholder divs smaller so they don't create big gaps */
        /* TODO: Maybe remove this rule when saving/printing  */
        /* HISTORY:  html2pdf was having trouble with page break locations with unstandard div heights,
         so i disabled this rule initially, but now that i'm not using external css it seems to work */
        /* .printCss .newBoxBefore1,
        .printCss .newBoxBefore2 {
            height: auto;
        } */

        /* Hiding elements with bootstrap d-print-none class, so it works with html2pdf */
        .printCss .d-print-none {
            display: none;
        }

        /* This rule may not work, I'm not sure if @page can have a parent div/class */
        /* .printCss @page {
            size: 4in 6in;
        } */
    </style>



</head>

<body id="body">


    <!-- Saving message (to hide white flash during save/print css load) -->
    <!-- TODO:  Fix/add CSS so the width doesn't create scrollbars -->
    <div class="savingMessage startHidden" id="savingMessage">
        <h1 class="text-center">Saving...</h1>
    </div>
    <!--   -->




    <div class="container">

        <!-- Header -->
        <div class="row pageTitle" id="pageTitle">
            <div class="col-md my-3">
                <h1 class="text-center">Packing for Peanuts</h1>
            </div>
        </div>
        <!--   -->







        <!-- FUNCTION:  Show results upon form submit (and hide rest of page) -->
        <!-- Start hidden, only show after hitting submit  -->
        <!-- TITLE:  Results box -->
        <div class="startHidden resultsBoxContainer" id="resultsBoxContainer">
            <!-- Don't show title during print -->
            <div class="row resultsBoxTitle d-print-none" id="resultsBoxTitle">
                <div class="col-md my-3">
                    <h2>Packing Results:</h2>
                </div>
            </div>
            <div class="row">
                <!-- NOTE:  The text here is sent from javascript using <br /> line breaks -->
                <div class="col-md mb-3 resultsBox" id="resultsBox">
                    Sample
                </div>
            </div>
            <!-- TIP:  Boostrap class  .d-print-none  hides this during printing-->
            <!-- REFERENCE:  https://stackoverflow.com/a/36352263 -->
            <!-- REFERENCE:  https://getbootstrap.com/docs/5.0/utilities/display/#display-in-print -->
            <div class="row d-print-none">
                <form id="resultsForm">
                    <!-- FORM FOOTER -->
                    <div class="row mb-3">
                        <div class="col">
                            <!-- FUNCTION:  Back button (calls the showMainPage function which inverts the display of elements shown/hidden by the showResults function) -->
                            <!-- TIP:  Align right with float-end -->
                            <!-- Source for arrows:  https://www.calculators.org/math/html-arrows.php -->
                            <button type="button" class="btn btn-secondary mb-1 backButton" id="backButton">‚Üê Go
                                Back &nbsp;</button>
                            <!-- FUNCTION:  This "submit" button isn't actually submitting anything, but it refreshes the page on submit, which is the goal  -->
                            <!-- TODO:  Maybe change this from a submit button to a refresh page button (like my custom reset button). No real reason to as of now though -->
                            <!-- TIP:  Align right with float-end -->
                            <button type="submit" class="btn btn-warning mb-1 float-left submitButton"
                                id="resultsSubmitButton">‚Ü∫ Start Over &nbsp;</button>
                        </div>

                        <div class="col">
                            <!-- FUNCTION:  Print button -->
                            <!-- TIP:  Align right with float-end or float-right-->
                            <!-- reordered these buttons since the first floats to the end/right -->
                            <!-- removed  onClick="window.print()"  and moved it to the SO# validation function upon clicking print -->
                            <input type="button" class="btn btn-primary mb-1 mx-1 float-end printButton"
                                id="printButton" value="‚éô Print">

                            <!-- FUNCTION:  Save pdf button (using html2pdf, in scripts) -->
                            <input type="button" class="btn btn-secondary mb-1 mx-1 float-end printButton"
                                id="saveButton" value="üñ´ Save">
                        </div>
                    </div>
                </form>
            </div>
        </div>














        <!-- To toggle a class of divs shown/hidden (without issues), don't use bootstrap collapse (which alternates toggled elements), just use display:none / block

        <!-- 
        To make other sections collapse when one expands:
        For Bootstrap5      Add the  data-bs-parent="#customParentID"  attribute to the collapse elements instead of the button.
        https://stackoverflow.com/questions/11476670/bootstrap-collapse-other-sections-when-one-is-expanded
        -->
        <!-- TIP:  My non-bootstrap  class="startHidden"  to start hidden -->
        <!-- TIP:  Bootstrap  class="collapse"  to start hidden,  class="collapse.show"  to start shown  (i'm not using collapse anymore)-->
        <!-- TODO:  Hide/collapse all of this group before showing parts of the group. might need to remove data bs toggle true and parent -->
        <!-- BUG:  Adding gap on parent div requires me to click a button twice for it to show content the first time... -->
        <!-- HISTORY:  I was trying to use the bootstrap 5 collapse command, but it wouldn't let me hide everything i want before showing only what I want -->
        <!--  it would only toggle states, so half of the ones you want to show would disappear if there was overlap and you clicked a different button -->
        <!--  so I switched to HTML+Javascript  display='none'  and display=''  (to reset it to showing)  -->
        <!--  (might have to invert this if i don't want everything showing at the start. maybe set it to block or inline instead of ''?) -->
        <!-- REFERENCE:  https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp -->

        <!-- BEHAVIOR:  onclick, it runs the javascript function  collapseGroup, and sends the name of the group/class to expand as an argument -->
        <!-- TIP:  Add a class name (like groupLds) to every element in a group you want shown (when clicking a header button), since comma-separated IDs didn't work -->

        <!-- BEHAVIOR:  onsubmit="return false"  was added to prevent the page refresh on submit, so I can show the results -->
        <!-- REFERENCE:  https://stackoverflow.com/a/57226770 -->
        <!-- TODO:  Add a Reset/Continue/Clear/Start Over button to the results (as well as a Print button, defaulting to 4x6 and zebra printer) -->

        <form id="mainForm" onsubmit="return false">
            <div id="wizard1">
                <div class="row mb-4">
                    <div class="btn-group" role="group" aria-label="Select type of system being sent">

                        <!-- HISTORY:  To set one to default true/active, add  checked  somewhere. Adding  class="active"  didn't work -->
                        <!-- REFERENCE:  https://getbootstrap.com/docs/5.0/components/button-group/#checkbox-and-radio-button-groups -->
                        <!-- System: LDS Valve  radio button-->
                        <!-- <input type="radio" class="btn-check active" checked name="btnradio" id="btnradio1" -->
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" data-bs-toggle="true"
                            onclick="collapseGroup('groupLds')" autocomplete="off" aria-expanded="true"
                            aria-controls=".groupLds" value="1">
                        <label class="btn btn-primary" for="btnradio1">System:&nbsp; LDS Valve</label>

                        <!-- System: POLD-Only  radio button -->
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" data-bs-toggle="false"
                            onclick="collapseGroup('groupPoldOnly'); setLds(0);" autocomplete="off"
                            aria-expanded="false" aria-controls=".groupPoldOnly" value="2">
                        <label class="btn btn-primary" for="btnradio2">System:&nbsp; POLD-Only</label>

                        <!-- Accessories Only  radio button -->
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio3" data-bs-toggle="false"
                            onclick="collapseGroup('groupAccessories'); setLds(0);" autocomplete="off"
                            aria-expanded="false" aria-controls=".groupAccessories" value="3">
                        <label class="btn btn-primary" for="btnradio3">Accessories Only</label>
                    </div>
                </div>
                <!-- Everything with class  groupWizard1  gets hidden first, upon header click  (like it's the 1st wizard step) -->
                <div class="row mb-4 groupWizard1">
                    <p class="text-center">Select one of the 3 options above to start.</p>
                </div>




                <!-- FUNCTION:  Wrap everything in a  startHidden  div to start collapsed before showing with top 3 toggles  (div 1 of 2)-->
                <div class="startHidden showOnHeaderClick">


                    <!-- SYSTEM: LDS -->
                    <!-- TODO:  Change class collapse.show to collapse to hide by default after programming/testing is done -->
                    <!-- TIP:  Change class="row collapse  back to  class="row collapse.show  to start shown on page load -->
                    <div class="row collapse.show groupWizard1 ldsBox groupLds groupAccessories" id="ldsBox">

                        <!-- TODO:  form class="mx-3" but make it actually work to shrink the box on the right end as well instead of overflow -->
                        <!-- Example from:  https://getbootstrap.com/docs/5.0/forms/overview/ -->


                        <!-- These group div classes are to hide or show certain divs depending on which header button is selected -->
                        <div class="row groupWizard1 groupLds groupAccessories">
                            <div class="col groupWizard1 groupLds">
                                <!--  TODO:  Change valueLds to number of LDS, then add valueLdsSize for size? (hardcoded to 1 LDS in scripts) -->
                                <label for="selectLds" class="form-label">LDS Valve Size</label>
                                <!-- Auto-include SCV of same size -->
                                <!-- Auto-include CP, 12V PSU -->
                                <select class="form-select" id="selectLds">
                                    <option selected></option>
                                    <option value="0.75">0.75"</option>
                                    <option value="1.00">1.00"</option>
                                    <option value="1.25">1.25"</option>
                                    <option value="1.50">1.50"</option>
                                    <option value="2.00">2.00"</option>
                                    <option value="2.50">2.50"</option>
                                    <option value="3.00">3.00"</option>
                                </select>
                            </div>
                            <div class="col groupWizard1 groupLds groupAccessories">
                                <label for="inputScv" class="form-label"><i>Spring Check Valve</i></label>
                                <input type="number" class="form-control" id="inputScv" aria-describedby="scvHelp">
                            </div>
                        </div>


                        <!-- Split system -->
                        <div class="row">
                            <div class="col mt-2 groupWizard1 groupLds">
                                <!-- Split system checkbox -->
                                <div class="form-check">
                                    <!-- Supposed to have  form-check  class on parent div, but that puts checkbox on left. Remove if you want checkbox on right -->
                                    <label for="checkSplitSystem" class="form-label mx-3">Split System</label>
                                    <!-- TODO:  Align checkbox right (keeping text and div section on left) -->
                                    <input type="checkbox" class="form-check-input mx-1" id="checkSplitSystem">
                                </div>
                            </div>
                            <!-- Spring Check Valve description -->
                            <div class="col mb-2">
                                <div id="scvHelp" class="form-text"><i>1 is included with an LDS by default.</i></div>
                            </div>
                        </div>
                        <!-- Split system dropdown -->
                        <div class="row mb-2">
                            <div class="col">
                                <!--  TODO:  Change valueLds to number of LDS, then add valueLdsSize for size? (hardcoded to 1 LDS in scripts) -->
                                <!-- <label for="selectSplitSystem" class="form-label">Split System Size</label> -->
                                <!-- Auto-include SCV of same size -->
                                <!-- Auto-include CP, 12V PSU -->
                                <select class="form-select startHidden mb-2" id="selectSplitSystem">
                                    <option selected></option>
                                    <option value="1">B1</option>
                                    <option value="2">B2</option>
                                    <option value="3">B3 (tentative logic)</option>
                                </select>
                            </div>
                            <div class="col">
                            </div>
                        </div>

                    </div>




                    <!-- SYSTEM: POLD-ONLY -->

                    <!-- Control Panel -->
                    <div class="row collapse.show groupWizard1 poldOnlyBox groupLds groupPoldOnly groupAccessories"
                        id="poldOnlyBox">
                        <div class="mb-3">
                            <label for="inputCp" class="form-label">Control Panel</label>
                            <input type="number" class="form-control" id="inputCp">
                        </div>
                    </div>

                    <!-- Hidden Wire -->
                    <!-- TODO:  Checkbox checked state not visible when using chrome dark mode extension -->
                    <!-- Supposed to have  form-check  class on parent div, but that puts checkbox on left. Remove if you want checkbox on right -->
                    <div class="row mb-4">
                        <div class="mb-0 form-check">
                            <label for="checkHiddenWire" class="form-label mx-3">Hidden Power Wire (Control
                                Panel)</label>
                            <!-- TODO:  Align checkbox right (keeping text and div section on left) -->
                            <input type="checkbox" class="form-check-input mx-1" id="checkHiddenWire">
                            <input type="number" class="form-control startHidden" value="10" id="inputHiddenWireLength">
                            <div id="hiddenWireHelp" class="form-text startHidden"><i>Ft.</i></div>
                        </div>
                    </div>



                    <!-- ACCESSORIES -->
                    <div class="row collapse.show groupWizard1 accessoriesBox groupLds groupPoldOnly groupAccessories"
                        id="accessoriesBox">


                        <!-- Instruction text -->
                        <!-- font-weight-bold isn't working... -->
                        <div class="mt-3 mb-3 font-weight-bold"><b>Enter the amount of each accessory:</b></div>

                        <!-- API -->
                        <div class="mb-3">
                            <!-- value="1" to default to 1. min="0" max="30" for min and max -->
                            <label for="inputApi" class="form-label">APIs</label>
                            <input type="number" class="form-control" id="inputApi" min="0" max="30"
                                aria-describedby="apiHelp">
                            <div id="apiHelp" class="form-text"><i>Maximum of 30.</i></div>
                        </div>

                        <!-- POLDs -->
                        <!-- div class mb-3 is margin-bottom -->
                        <!-- Used mx-0 to fix this bootstrap row from sliding to the left -->
                        <!-- REFERENCE:  https://getbootstrap.com/docs/4.0/layout/grid/ -->
                        <!--   "Columns have horizontal padding to create the gutters between individual columns,""  -->
                        <!--   "however, you can remove the margin from rows and padding from columns with .no-gutters on the .row." (didn't work) -->
                        <div class="row mx-0">
                            <!-- Removed left padding on text with px-0 -->
                            <div class="col-sm-auto px-0">
                                <label for="inputPold" class="form-label" id="inputPoldLabel">POLDs</label>
                            </div>
                            <div class="col-auto">
                                <!-- Checkbox for auto-calculating POLD total -->
                                <div class="form-check startHidden divCalcPoldTotal" id="divCalcPoldTotal">
                                    <!-- Supposed to have (bootstrap)  form-check  class on parent div, but that puts checkbox on left. Remove if you want checkbox on right -->
                                    <label for="checkCalcPoldTotal" class="form-label mx-3"><i>Auto-calculate POLD
                                            total</i></label>
                                    <input type="checkbox" class="form-check-input mx-1" id="checkCalcPoldTotal">
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2 mx-0">
                            <!-- POLD number input -->
                            <input type="number" class="form-control" id="inputPold" min="0" max="30"
                                aria-describedby="poldHelp">
                            <div id="poldHelp" class="form-text"><i>If requesting more than 15, email a
                                    list of zones. If more than 30, contact warehouse.</i>
                            </div>
                        </div>

                        <!-- Leak Rope -->
                        <div class="row">
                            <div class="col mt-0">
                                <!-- Leak Rope checkbox -->
                                <div class="form-check">
                                    <!-- Supposed to have (bootstrap)  form-check  class on parent div, but that puts checkbox on left. Remove if you want checkbox on right -->
                                    <label for="checkLeakRope" class="form-label mx-3">Leak Rope</label>
                                    <!-- TODO:  Align checkbox right (keeping text and div section on left) -->
                                    <input type="checkbox" class="form-check-input mx-1" id="checkLeakRope">
                                </div>
                            </div>
                            <!-- Extra column for the heck of it -->
                            <div class="col">
                            </div>
                        </div>
                        <!-- Leak rope options -->
                        <div class="row mx-1 mt-2">
                            <div class="col mx-1 mb-2 startHidden expandPold" id="expandPold1">
                                <label for="inputPoldPin" class="form-label">POLDs with pins</label>
                                <input type="number" class="form-control" id="inputPoldPin" min="0" max="30">
                            </div>
                            <!-- Extra column for the heck of it -->
                            <div class="col">
                            </div>
                        </div>

                        <div class="row mb-4">
                            <!-- POLD with Leak Rope -->
                            <div class="col startHidden expandPold" id="expandPold2">
                                <div class="card m-3">
                                    <div class="m-3">
                                        <label for="inputPoldLeakRope2ft" class="form-label">POLDs with Leak Rope
                                            (2ft)</label>
                                        <input type="number" class="form-control" id="inputPoldLeakRope2ft" min="0"
                                            max="30">
                                    </div>
                                    <div class="m-3">
                                        <label for="inputPoldLeakRope5ft" class="form-label">POLDs with Leak Rope
                                            (5ft)</label>
                                        <input type="number" class="form-control" id="inputPoldLeakRope5ft" min="0"
                                            max="30">
                                    </div>
                                    <div class="m-3">
                                        <label for="inputPoldLeakRope10ft" class="form-label">POLDs with Leak Rope
                                            (10ft)</label>
                                        <input type="number" class="form-control" id="inputPoldLeakRope10ft" min="0"
                                            max="30">
                                    </div>
                                </div>
                            </div>
                            <!-- Just Leak Rope -->
                            <div class="col startHidden expandPold" id="expandPold3">
                                <div class="card m-3">
                                    <div class="m-3">
                                        <label for="inputLeakRope2ft" class="form-label">Just Leak Rope (2ft)</label>
                                        <input type="number" class="form-control" id="inputLeakRope2ft" min="0"
                                            max="30">
                                    </div>
                                    <div class="m-3">
                                        <label for="inputLeakRope5ft" class="form-label">Just Leak Rope (5ft)</label>
                                        <input type="number" class="form-control" id="inputLeakRope5ft" min="0"
                                            max="30">
                                    </div>
                                    <div class="m-3">
                                        <label for="inputLeakRope10ft" class="form-label">Just Leak Rope (10ft)</label>
                                        <input type="number" class="form-control" id="inputLeakRope10ft" min="0"
                                            max="30">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>





                    <!-- Hidden input field for largePSU, to keep logic working the same -->
                    <div class="mt-5 mb-3 startHidden groupWizard1 groupLds groupAccessories">
                        <label for="inputLargePSU" class="form-label">Large PSU (24V Power Supply w/Enclosure)</label>
                        <input type="number" class="form-control" id="inputLargePSU">
                    </div>



                    <div class="mb-3 groupWizard1 groupLds groupAccessories">
                        <label for="inputRecirc" class="form-label">Recirculation Pump Switch</label>
                        <input type="number" class="form-control" id="inputRecirc">
                    </div>
                    <div class="mb-3 groupWizard1 groupLds groupAccessories">
                        <label for="inputFourHour" class="form-label">Four Hour Timer</label>
                        <input type="number" class="form-control" id="inputFourHour">
                    </div>
                    <!-- Why does this not have  class="mb-3 groupWizard1 groupLds groupAccessories"  ?  I guess to always show, even on pold-only? -->
                    <div class="mb-3">
                        <label for="inputPam1" class="form-label">PAM-1 Relay</label>
                        <input type="number" class="form-control" id="inputPam1">
                    </div>
                    <!-- Why does this not have  class="mb-3 groupWizard1 groupLds groupAccessories"  ?  I guess to always show, even on pold-only? -->
                    <div class="mb-3">
                        <label for="inputSsr" class="form-label">Solid State Relay</label>
                        <!-- If you want to constrain to even numbers and fail validation if not:  step="2" -->
                        <input type="number" class="form-control" id="inputSsr" step="2">
                        <div id="ssrHelp" class="form-text"><i>Typically sent in multiples of 2.</i></div>
                    </div>



                    <div class="mt-5 mb-3 groupWizard1 groupLds groupAccessories">
                        <label for="inputJuncBox" class="form-label">Junction Box</label>
                        <input type="number" class="form-control" id="inputJuncBox">
                    </div>
                    <!-- Don't show if POLD-Only is selected (through the group classes, only for lds and accessories) -->
                    <div class="mb-3 groupWizard1 groupLds groupAccessories">
                        <label for="inputInsulPouch" class="form-label">Insulated Pouch</label>
                        <input type="number" class="form-control" id="inputInsulPouch">
                    </div>


                    <!-- Spacing -->
                    <div class="mt-4 mb-3">&nbsp;</div>
                    <!-- Horizontal line -->
                    <hr>
                    <!-- Instruction text -->
                    <div class="mt-3 mb-3"><b>Extra info:</b></div>

                    <!-- SO#  (to keep track of multiple pages together, and matching printed labels to packing lists etc) -->
                    <!-- Input not required, and won't print if value is not greater than 0/blank -->
                    <!-- I think I lost my form validation when I made form return false to prevent refreshing the page -->
                    <!-- Could add an eventlistener if I really wanna validate this form input -->
                    <!-- I set the max to 999999999999999 because after this, it truncates it weirdly -->
                    <div class="mb-4 mt-3">
                        <label for="inputSoNum" class="form-label">Sales Order Number (SO#)</label>
                        <input type="number" class="form-control" id="inputSoNum" min="0" max="999999999999999"
                            aria-describedby="soNumHelp">
                        <div id="soNumHelp" class="form-text"><i>Only required if printing labels for a multi-box
                                shipment</i></div>
                    </div>

                </div>

            </div>



            <!-- FORM FOOTER -->
            <!-- FUNCTION:  Wrap everything in a  startHidden  div to start collapsed before showing with top 3 toggles  (div 2 of 2)-->
            <div class="startHidden showOnHeaderClick">
                <div class="row collapse.show groupWizard1 formFooterBox groupLds groupPoldOnly groupAccessories"
                    id="formFooterBox">
                    <!-- font-weight-bold isn't working... -->
                    <!-- TODO: Expand to show extra input fields like zoho link, device id, details/comment box to help person preparing (and maybe auto copy to zoho and packing list/label?) -->

                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input mx-3" id="checkReplacement">
                        <label class="form-check-label" for="checkReplacement">Replacement for existing
                            system/accessory?</label>
                    </div>


                    <div class="row mt-1 mb-2">
                        <div class="col">
                            <div class="resetAndSubmitButtons" id="resetAndSubmitButtons">
                                <!-- FUNCTION:  Reset button -->
                                <!-- HISTORY:  Wasn't fully resetting the form, so I switched to just refreshing the page on click -->
                                <!-- REFERENCE:  https://stackoverflow.com/a/20740876/1263035 -->
                                <!-- Also added scrolling back to top of page -->
                                <!-- REFERENCE:  https://stackoverflow.com/a/66789888/1263035 -->
                                <button class="btn btn-danger btn-sm mx-2 " type="reset" id="mainResetButton"
                                    value="Reset">Reset</button>
                                <!-- Wasn't fully resetting the form, so I was manually hiding shown divs as well with  onclick="resetHidden()" but now just refreshing page -->
                                <!-- <button class="btn btn-danger btn-sm" type="reset" id="mainResetButton"
                                    onclick="resetHidden()" value="Reset">Reset</button> -->

                                <!-- FUNCTION:  Submit button -->
                                <!-- TIP:  Align right with float-end -->
                                <button type="submit" class="btn btn-primary submitButton"
                                    id="finalSubmitButton">Submit</button>
                            </div>
                        </div>
                        <div class="col">
                            <!-- Submit button used to be here on the right -->
                            <!-- May not actually need the rows and columns now -->
                        </div>
                    </div>

                    <div class="mt-3">
                        <div class="float-end">
                            <!-- VERSION number -->
                            <!-- Text is not aligning right and idk why -->
                            <div class="">
                                <p class="versionNumber text-muted text-right" id="versionNumber"><i>Version 3.3.0</i>
                                </p>
                            </div>
                            <div class="mb-3 form-check startHidden" id="debugDiv">
                                <!-- float-end  for align-right -->
                                <input type="checkbox" class="form-check-input mx-3" id="checkDebug">
                                <label class="form-check-label text-muted" for="checkDebug"><i>[Debugging
                                        mode]</i></label>
                            </div>
                            <div class="mb-3 startHidden" id="knownIssues">
                                <!-- REFERENCE: https://stackoverflow.com/a/17711167  rel="noopener noreferrer" to prevent phishing attacks -->
                                <!-- float-end  for align-right -->
                                <a href="z_todo.txt" class="mx-3" target="_blank" rel="noopener noreferrer"><i>[Known
                                        issues]</i></a>
                            </div>
                        </div>
                    </div>

                </div>

            </div>


        </form>

    </div>





























    <!-- JAVASCRIPT -->



    <!-- Bootstrap 5 Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
    </script>
    <!-- Locally hosted version -->
    <!-- <script src="./js/bootstrap5.0.0-beta2-w-popper_bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
    </script> -->





    <!-- Luxon javascript library for working with dates/times (using for pdf filename generation) -->
    <!-- SOURCE:  https://moment.github.io/luxon/ -->
    <!-- SOURCE:  https://github.com/moment/luxon/ -->
    <!-- Day.js is another simpler alternative with easier customization.  https://day.js.org/docs/en/parse/string-format -->
    <!-- Other datetime library options listed here:  https://momentjs.com/docs/#/-project-status/ -->
    <script src="./js/luxon.min.js"></script>



    <!-- Generating a datetime variable for pdf filename generation, using Luxon library -->
    <script type="text/javascript" src="./js/myjs/luxonDateTimeFunc.js">
    </script>






    <!-- HISTORY:  jsPDF wasn't working so I used html2pdf.js -->
    <!-- jsPDF library for generating pdf.  https://github.com/MrRio/
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.es.min.js"></script>


    <script type="text/javascript">
        //// jsPDF CREATE PDF ////
        import { jsPDF } from "jspdf.es.min.js";


        // Default export is a4 paper, portrait, using millimeters for units
        // 4x6 inches
        const doc = new jsPDF({
            orientation: "portrait",
            unit: "in",
            format: [4, 6],
        });

        doc.text("Hello world!", 1, 1);
        doc.save("two-by-four.pdf");
    </script> -->






    <!-- SAVE PDF. html2pdf library for generating pdf.  https://github.com/eKoopmans/html2pdf.js -->
    <script src="./js/html2pdf.bundle.min.js"></script>

    <!-- To enable png image compression, try using the canvas-png-compression shim,   // Didn't work, disabled
     which should be an in-place solution to enable png compression via the quality option.
     SOURCE:  https://github.com/ShyykoSerhiy/canvas-png-compression -->
    <!-- <script src="./js/canvas-png-compression_bundle.js"></script>  Didn't work, disabled -->



    <!-- SAVE PDF -->
    <script type="text/javascript" src="./js/myjs/savePdf.js">
    </script>










    <!-- Custom scripts -->
    <script type="text/javascript" src="./js/myjs/main.js">
    </script>

</body>

</html>