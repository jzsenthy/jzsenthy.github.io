
  // Change checkbox values from On/NaN to 1 or 0
  // SOURCE:  https://stackoverflow.com/questions/18295811/checkbox-value-0-or-1
  // SOURCE:  https://stackoverflow.com/a/63962842
  document.addEventListener('DOMContentLoaded', e => {
      for (let checkbox of document.querySelectorAll('input[type=checkbox]')) {
          checkbox.value = checkbox.checked ? 1 : 0;
          checkbox.addEventListener('change', e => {
              e.target.value = e.target.checked ? 1 : 0;
          });
      }
  });




  // FUNCTION:  Hide and show the correct sections from the top buttons (LDS, POLD-Only, Accessories)
  // HISTORY:  Had to abandon bootstrap .collapse method and just hide all then show what i want (so it wouldn't toggle things incorrectly)
  // TIP: Can replace  (document.querySelectorAll('.groupLds'))  with  (document.querySelectorAll(`.${groupClass}`))  
  //      '.groupLds'  to  `.${groupClass}`  (a literal) to insert variable groupClass with string . (period) in front of it (or any other string)
  function collapseGroup(groupClass) {
      // Hide everything first
      elements = document.getElementsByClassName("groupWizard1");
      for (var i = 0; i < elements.length; i++) {
          elements[i].style.display = elements[i].style.display = 'none';
      }
      // Show what you want
      elements = document.getElementsByClassName(`${groupClass}`);
      for (var i = 0; i < elements.length; i++) {
          elements[i].style.display = elements[i].style.display = '';
      }
  }




  // Show extra POLD section if POLDs are present
  // TODO:  Hide section if POLDs goes back to 0
  // SAMPLE:  https://www.w3schools.com/jsref/event_oninput.asp
  // SAMPLE:  https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_oninput_dom
  document.getElementById("inputPold").oninput = function () { showPoldExtra() };
  function showPoldExtra() {
      var elementPold = document.getElementById("expandPold");
      elementPold.style.display = "block";
  }


  // FUNCTION:  Show extra Hidden Wire section if present
  // HISTORY:  I'm not sure why it's reversed. Maybe it's checking the value on click, instead of seeing what it changes to
  // SAMPLE:  https://www.w3schools.com/jsref/event_onchange.asp
  document.getElementById("checkHiddenWire").addEventListener("click", setHiddenWire);
  function setHiddenWire() {
      var idHiddenWire = document.getElementById("checkHiddenWire");
      if (idHiddenWire.value == 0) {
          var elementHiddenWire = document.getElementById("inputHiddenWireLength");
          elementHiddenWire.style.display = "block";
          var elementHiddenWire = document.getElementById("hiddenWireHelp");
          elementHiddenWire.style.display = "block";
          // window.alert("idHiddenWire.value == 0  " + idHiddenWire.value);
      }
      else if (idHiddenWire.value > 0) {
          var elementHiddenWire = document.getElementById("inputHiddenWireLength");
          elementHiddenWire.style.display = "none";
          var elementHiddenWire = document.getElementById("hiddenWireHelp");
          elementHiddenWire.style.display = "none";
          // window.alert("idHiddenWire.value > 0  " + idHiddenWire.value);
      }
  }



  // FUNCTION:  Show Split System dropdown selector if checked
  // HISTORY:  I'm not sure why it's reversed. Maybe it's checking the value on click, instead of seeing what it changes to
  // SAMPLE:  https://www.w3schools.com/jsref/event_onchange.asp
  document.getElementById("checkSplitSystem").addEventListener("click", setSplitSystem);
  function setSplitSystem() {
      var idSplitSystem = document.getElementById("checkSplitSystem");
      if (idSplitSystem.value == 0) {
          var elementSplitSystem = document.getElementById("selectSplitSystem");
          elementSplitSystem.style.display = "block";
          // window.alert("idSplitSystem.value == 0  " + idSplitSystem.value);
      }
      else if (idSplitSystem.value > 0) {
          var elementSplitSystem = document.getElementById("selectSplitSystem");
          elementSplitSystem.style.display = "none";
          // window.alert("idSplitSystem.value > 0  " + idSplitSystem.value);
      }
  }



  // Set SCV = 1 if an LDS is selected
  // TODO:  Maybe change  var elementId  to a unique var
  // HISTORY:  Changed to  addEventListener  so it could run two functions from one  onchange
  // SAMPLE:  https://www.w3schools.com/jsref/event_onchange.asp
  document.getElementById("selectLds").addEventListener("change", setScv);
  //document.getElementById("selectLds").onchange = function () { setScv() };
  function setScv() {
      var valueLds = document.getElementById("selectLds");
      if (valueLds.value > 0) {
          var elementId = document.getElementById("inputScv");
          elementId.value = "1";
      }
      else if (valueLds.value == 0) {
          var elementId = document.getElementById("inputScv");
          elementId.value = "0";
      }
  }

  // Set CP = 1 if an LDS is selected
  // TODO:  Maybe change  var elementId  to a unique var
  // HISTORY:  Changed to  addEventListener  so it could run two functions from one  onchange
  // SAMPLE:  https://www.w3schools.com/jsref/event_onchange.asp
  document.getElementById("selectLds").addEventListener("change", setCp);
  //document.getElementById("selectLds").onchange = function () { setCp() };
  function setCp() {
      var valueLds = document.getElementById("selectLds");
      if (valueLds.value > 0) {
          var elementId = document.getElementById("inputCp");
          elementId.value = "1";
      }
      else if (valueLds.value == 0) {
          var elementId = document.getElementById("inputCp");
          elementId.value = "0";
      }
  }


  // Set LDS = 0 if POLD-Only is selected
  // TODO:  Maybe change  var elementId  to a unique var
  // SAMPLE:  https://www.w3schools.com/jsref/event_onchange.asp
  function setLds(ldsValueToSet) {
      var elementId = document.getElementById("selectLds");
      elementId.value = ldsValueToSet;
      // Set SCV value to 0 as well (the function will choose 0 when it evaluates that LDS is zero)
      setScv();
      setCp();
  }







  //  START BOX CALCULATIONS (FROM FORMS)

  // FUNCTION:  Define Object list + values  (for determining what boxes they fit in)
  // EXAMPLE:  https://mdbootstrap.com/education/javascript/chapter-2-lesson-6/
  var packingItem = {
      lds: 0,
      lds075: 0,
      lds100: 0,
      lds125: 0,
      lds150: 0,
      lds200: 0,
      lds250: 0,
      lds300: 0,

      splitSystem: 0,
      splitSystemB1: 0,
      splitSystemB2: 0,
      splitSystemB3: 0,

      scv: 0,
      ssr: 0,
      pam1: 0,
      cp: 1,
      api: 3,
      pold: 1,
      recirc: 6,
      fourHour: 6,

      juncBox: 36,
      insulPouch: 6,  // Defaults to an additional Medium Shipper
      leakRope2ft: 0.5,
      leakRope5ft: 1,
      leakRope10ft: 1,
      hiddenWire: 4.5,


      //BOXES
      // Shipper(19x12x7) = 12 (For .75-1.5" systems only)
      boxLds: 12,
      // Medium Shipper(20x12x8) = 6 (Used for 2" systems or Insulated Pouch only)
      boxLdsMedium: 6,
      // 18x18x14 = 18 (Used only for 2.5" and 3" systems)
      boxLdsLarge: 18,

      // Panel Box(10x7x3) = 6
      boxCp: 6,
      // 14x14x14 = 48 (Use only if EJB is included or if Point total is greater than or equal to 49)
      box14x14: 48,
      // Recirc/4 hr Box(9x4x3) = 6 (Only to be used for single Recircp Pump Switch or 4hr Timer)
      boxRecirc: 6,
      // Accessory Box(13x10x5) = 12
      boxAccessories: 12,
      // Mailer(11x9x1) = 2.5 (Use for shippments of accesory only)
      bubbleMailer: 2.5,
  };
  /* 
          Order of Priority:
Panel, SCV, Hidden Wire and Pam1 always in Box 1
1. API
2. POLD
3. Recirc Pump Switch
4. 4hr Time
5. Enclosures (Pouch + EJB)
Solid State Relays included with box carrying most POLDs
*/

  //  window.alert("yo boxLdsMedium = " + packingItem.boxLdsMedium);





  /// GET FORM VALUES
  /// FUNCTION:  Store form values in variables (to use for calculations)
  /// TODO:  Convert to array or object, to sum total easier

  /// SUBMIT BUTTON (using addEventListener instead of onclick)
  document.getElementById("finalSubmitButton").addEventListener("click", function () {
      // document.getElementById("demo").innerHTML = "Hello World";
      // window.alert("finalSubmitButton was pressed");


      /// ITEMS  (values entered by user)
      /// Don't add lds to value total
      /// TIP:  To always show 2 decimel places:  Number(x).toFixed(2);
      /// REFERENCE:  https://stackoverflow.com/a/13292833
      var valueLds = Number(document.getElementById("selectLds").value).toFixed(2);
      ///window.alert("yo valueLds = " + valueLds);

      // Split System stuff (that we're not really using)
      var valueSplitSystemCheck = Number(document.getElementById("checkSplitSystem").value);
      var valueSplitSystemSelect = Number(document.getElementById("selectSplitSystem").value);

      // Add this group to value total
      // TIP:  Use parseInt() or parseFloat() or Number() since it thinks these are strings and not adding properly (Number() does floats too [numbers with decimels])
      // REFERENCE:  https://stackoverflow.com/q/4564158
      var valueScv = Number(document.getElementById("inputScv").value);
      // window.alert("yo valueScv = " + valueScv);
      var valueCp = Number(document.getElementById("inputCp").value);
      var valuePold = Number(document.getElementById("inputPold").value);
      var valueLeakRope2ft = Number(document.getElementById("inputLeakRope2ft").value);
      var valueLeakRope5ft = Number(document.getElementById("inputLeakRope5ft").value);
      var valueLeakRope10ft = Number(document.getElementById("inputLeakRope10ft").value);
      var valueApi = Number(document.getElementById("inputApi").value);
      var valueRecirc = Number(document.getElementById("inputRecirc").value);
      var valueFourHour = Number(document.getElementById("inputFourHour").value);
      var valueSsr = Number(document.getElementById("inputSsr").value);
      var valuePam1 = Number(document.getElementById("inputPam1").value);
      var valueJuncBox = Number(document.getElementById("inputJuncBox").value);
      var valueInsulPouch = Number(document.getElementById("inputInsulPouch").value);
      // Changed inputHiddenWire to checkHiddenWire and added a new input inputHiddenWireLength, and a new variable valueHiddenWireLength
      var valueHiddenWire = Number(document.getElementById("checkHiddenWire").value);
      var valueHiddenWireLength = Number(document.getElementById("inputHiddenWireLength").value);

      // Don't add on/off to value total. Use this to trigger something else (undecided what)
      // Convert  On / Undefined  to  1 / 0  by wrapping in Number();
      var valueReplacement = Number(document.getElementById("checkReplacement").value);
      // window.alert("valueReplacement = " + valueReplacement);
      // Determine if the checkbox for debugging is enabled, then show debugging text
      var valueDebug = Number(document.getElementById("checkDebug").value);


      // TIP:  If nothing beyond here works, you have a typo or referenced the wrong ID above somewhere (idk why it doesn't error)

      // window.alert("yo boxLdsMedium3 = " + packingItem.boxLdsMedium);


      // FUNCTION:  Find the total items added into the form
      // Didn't include LDS because it's not a frequency but a size.
      var valueTotal = valueSplitSystemCheck + valueScv + valueCp + valuePold + valueLeakRope5ft + valueLeakRope10ft + valueApi + valueRecirc + valueFourHour + valueSsr + valueJuncBox + valueInsulPouch + valueHiddenWire;

      //window.alert("yo valueTotal (form input)= " + valueTotal);


      // FUNCTION:  Multiply the number of each item in the form with the value of the item, to find packing size value. (values for size/space)
      // Can break this out by lds size later if we want
      var totalValueLds = valueLds * packingItem.lds;
      var totalValueSplitSystemCheck = valueSplitSystemCheck * packingItem.splitSystem;
      // Can break split system out by type later if we want
      // var totalValueSplitSystemSelect = valueSplitSystemSelect * packingItem.splitSystemB1;
      var totalValueScv = valueScv * packingItem.scv;
      // window.alert("yo totalValueScv = " + totalValueScv);
      var totalValueCp = valueCp * packingItem.cp;
      var totalValuePold = valuePold * packingItem.pold;
      var totalValueLeakRope2ft = valueLeakRope2ft * packingItem.leakRope2ft;
      var totalValueLeakRope5ft = valueLeakRope5ft * packingItem.leakRope5ft;
      var totalValueLeakRope10ft = valueLeakRope10ft * packingItem.leakRope10ft;
      var totalValueApi = valueApi * packingItem.api;
      var totalValueRecirc = valueRecirc * packingItem.recirc;
      var totalValueFourHour = valueFourHour * packingItem.fourHour;
      var totalValueSsr = valueSsr * packingItem.ssr;
      var totalValuePam1 = valuePam1 * packingItem.pam1;
      var totalValueJuncBox = valueJuncBox * packingItem.juncBox;
      var totalValueInsulPouch = valueInsulPouch * packingItem.insulPouch;
      var totalValueHiddenWire = valueHiddenWire * packingItem.hiddenWire;


      // FUNCTION:  Find the total packing space required by adding all values of number of items multiplied by their space taken
      var totalValueTotal = totalValueSplitSystemCheck + totalValueLds + totalValueScv + totalValueCp + totalValuePold + totalValueLeakRope2ft + totalValueLeakRope5ft + totalValueLeakRope10ft + totalValueApi + totalValueRecirc + totalValueFourHour + totalValueSsr + totalValueJuncBox + totalValueInsulPouch + totalValueHiddenWire;


      //window.alert("yo totalValueTotal () = " + totalValueTotal);

      /*                Order of Priority:
      Panel, SCV, Hidden Wire and Pam1 always in Box 1
      1. API
      2. POLD
      3. Recirc Pump Switch
      4. 4hr Time
      5. Enclosures (Pouch + EJB)
      Solid State Relays included with box carrying most POLDs
      */







      var outputString;
      var outputStringFunc;


      // FUNCTION:  Start with LDS size to determine which primary box to start with
      // Shipper(19x12x7)  (For .75-1.5" systems only) -Bryce
      // TODO:  Maybe shorthand the code like this, if it works:  if valueLds <= 1.5 && > 0
      // TODO:  Export text file (node.js?) (do browsers even allow it?) then display that text in browser or print file
      if (valueLds > 0 && valueLds <= 1.5) {

          // FUNCTION:  Call function to build list of all items and what boxes they go in (displayed later through hidden div)
          // Pass the box name as a function argument (list of items is returned, and stored as the variable)
          outputStringFunc = buildOutputString("Shipper", packingItem.boxLds);

          //window.alert("you need a standard shipper box yo (19x12x7).\n totalValueTotal = " + totalValueTotal);
      }
      // 18x18x14 = 18 (Used only for 2.5" and 3" systems) -Bryce
      // HISTORY:  Put this above the 2" condition, so if there's a 3 inch system with insulated pouch, it doesn't put the 3" into a medium shipper
      // (may not apply anymore since insulated pouch gets additional medium shipper instead of changing primary box)
      else if (valueLds == 2.5 || valueLds == 3) {
          // FUNCTION:  Call function to build list of all items and what boxes they go in (displayed later through hidden div)
          outputStringFunc = buildOutputString("18x18x14", packingItem.boxLdsLarge);
      }
      // Medium Shipper(20x12x8)  (Used for 2" systems or Insulated Pouch only) -Bryce
      // HISTORY:  Changed this to only apply to 2" system as primary box. If insulated pouch, medium shipper should be an additional box I think?
      // else if (valueLds == 2 || valueInsulPouch > 0) {
      else if (valueLds == 2) {
          // FUNCTION:  Call function to build list of all items and what boxes they go in (displayed later through hidden div)
          outputStringFunc = buildOutputString("Medium Shipper (20x12x8)", packingItem.boxLdsMedium);
      }

      // FUNCTION:  If LDS is 0 (POLD-Only).
      // NOTE: Accessory box it the default primary box for POLD-Only -Bryce
      // TODO:  Maybe add:  || valueLds == '' || valueLds == 'undefined'
      else if (valueLds == 0) {
          //window.alert("POLD-Only system\n valueLds = " + valueLds);
          // FUNCTION:  Call function to build list of all items and what boxes they go in (displayed later through hidden div)
          outputStringFunc = buildOutputString("-- POLD System --\n\nAccessory Box (13x10x5)", packingItem.boxAccessories);
      }
      else {
          window.alert("yo something is wrong with the LDS value.\n valueLds = " + valueLds);
          // FUNCTION:  Call function to build list of all items and what boxes they go in (displayed later through hidden div)
          outputStringFunc = buildOutputString("Accessory Box (13x10x5)", packingItem.boxAccessories);
      }







      ///////////////////////////
      // FINAL COMMAND THAT RUNS:
      ///////////////////////////

      // FUNCTION:  List all items & boxes they go in (outputStringFunc is the return string value from calling buildOutputString function below, from above)
      // HISTORY:  Old method was to show an alert. I'm now showing a full page printable list.
      //window.alert(outputStringFunc);

      // FUNCTION:  Hide form
      var elementToToggle = document.getElementById("mainForm");
      elementToToggle.style.display = "none";

      // FUNCTION:  Hide pageTitle
      var elementToToggle = document.getElementById("pageTitle");
      elementToToggle.style.display = "none";

      // FUNCTION:  Show results div
      var elementToToggle = document.getElementById("resultsBoxContainer");
      elementToToggle.style.display = "block";


      // FUNCTION:  Show text output in results div
      // TIP:  Add <pre> HTML tag to maintain line breaks ("preformatted text")
      // TIP:  You could also replace the \n with <br> if you want HTML formatted line breaks
      // TODO:  Change from <pre> text to something better (can't really format it)
      //var outputStringFuncParsed = JSON.parse(outputStringFunc);
      //document.getElementById("resultsBox").innerHTML = outputStringFuncParsed;
      document.getElementById("resultsBox").innerHTML = "<pre>" + outputStringFunc + "</pre>";

















      // FUNCTION:  Function to build list of items to pack, and show in a popup (to use in each LDS size condition below)
      // NOT THE FINAL THING THAT RUNS
      function buildOutputString(initialBox, boxValue) {

          // DEBUGGING
          // window.alert("function buildOutputString(initialBox, boxValue) {   boxValue\n" + " " + boxValue);


          // FUNCTION:  List all items and what boxes they go in
          // TODO:  Change valueLds to number/amount of LDS entered, then add valueLdsSize for each valve size?
          outputString = initialBox + " Box: \n";

          // Add "Replacement" header if checkbox is checked
          if (valueReplacement > 0) {
              outputString = "-- Replacement --\n\n" + initialBox + " Box: \n";
              // window.alert("valueReplacement = " + valueReplacement);
          }
          else {
              outputString = initialBox + " Box: \n";
              // window.alert("valueReplacement = " + valueReplacement);
          }
          // window.alert("valueReplacement = " + valueReplacement);


          // It didn't work to access & modify this variable if it was declared outside the function, so I declared it inside
          var totalValueCurrent = totalValueTotal;
          // Initialze a variable to track how much space is left in each box, so once it hits a low number, it moves on to next box
          var boxValueLeft = boxValue;
          // window.alert("totalValueTotal = " + totalValueTotal);
          // window.alert("totalValueCurrent = " + totalValueCurrent);
          // window.alert("valueLds = " + valueLds);

          // Add this line to add a breakpoint
          //debugger

          // Currently just hard defining this group of items as always going in the first box (not checking if they fit) (according to Bryce rules)
          // TODO:  Maybe change this group into a loop/function since it's basically repeated code (just assign a variable for which current item it's evaluating)
          if (valueLds > 0) {
              // If split system, add that info
              if (valueSplitSystemCheck > 0) {
                  // Add item to string to be displayed at the end for what to pack
                  outputString = outputString + "• LDS (" + valueLds + "\") (Split-System B" + valueSplitSystemSelect + ")\n";
              }
              // Otherwise output the normal LDS size info string
              else {
                  // Add item to string to be displayed at the end for what to pack
                  outputString = outputString + "• LDS (" + valueLds + "\") \n";
              }
              // Don't subtract LDS value as of now, since it's actually the pipe size and not space taken, plus it equals 0 anyway. 
              // (We have cases to define which box each LDS size goes in anyway)
          }
          if (valueCp > 0) {
              // Subtract item value as it's added to a box, to figure out if there's items/overflow value left over
              totalValueCurrent = totalValueCurrent - totalValueCp;
              boxValueLeft = boxValueLeft - totalValueCp;
              // Add item to string to be displayed at the end for what to pack
              outputString = outputString + "• " + valueCp + " Control Panel\n";
          }
          if (valueScv > 0) {
              // Subtract item value as it's added to a box, to figure out if there's items/overflow value left over
              totalValueCurrent = totalValueCurrent - totalValueScv;
              boxValueLeft = boxValueLeft - totalValueScv;
              // Add item to string to be displayed at the end for what to pack
              outputString = outputString + "• " + valueScv + " Spring Check Valve (SCV)\n";
          }
          if (valueHiddenWire > 0) {
              // Subtract item value as it's added to a box, to figure out if there's items/overflow value left over
              totalValueCurrent = totalValueCurrent - totalValueHiddenWire;
              boxValueLeft = boxValueLeft - totalValueHiddenWire;
              // Add item to string to be displayed at the end for what to pack
              outputString = outputString + "• " + valueHiddenWire + " Hidden Wire (" + valueHiddenWireLength + "ft)\n";
          }
          if (valuePam1 > 0) {
              // Subtract item value as it's added to a box, to figure out if there's items/overflow value left over
              totalValueCurrent = totalValueCurrent - totalValuePam1;
              boxValueLeft = boxValueLeft - totalValuePam1;
              // Add item to string to be displayed at the end for what to pack
              outputString = outputString + "• " + valuePam1 + " PAM-1 Relay\n";
          }
          // All items above always go into box 1 (according to Bryce)




          // The following items will fit in current box or create a new box (accessories box is default extra)
          // Define the accessory box as the next box to overlow items into, unless there's a junction box or total >= 49
          var nextBox = "Accessory Box (13x10x5)";
          var nextBoxValue = packingItem.boxAccessories;

          // HISTORY:  Medium shipper condition for insulated pouch was moved to the section where it checks if there's an insulated pouch and sends it to be packed 
          // (otherwise the first item sent to be packed will end up in the medium shipper, instead of the insulated pouch going in there)

          // 14x14x14 = 48 (Use only if EJB is included or if point total is greater than or equal to 49) -Bryce
          // This is the overflow box and not the primary box
          if (totalValueTotal >= 49 || valueJuncBox > 0) {
              nextBox = "14x14x14";
              nextBoxValue = packingItem.box14x14;
          }
          // The four hour timer box is only used if a single timer or recirc switch is sent, or it's the only overflow item,
          // but if both are sent, then they'll be in an accessory box like any other scenario
          // TODO:  Make case for determining if this is the only overflow item
          if ((valueFourHour == 1 || valueRecirc == 1) && (totalValueTotal == 6)) {
              nextBox = "Recirc/Four Hour Box (9x4x3)";
              nextBoxValue = packingItem.boxRecirc;
          }

















          // Declaring this variable outside of the function so I can use it in the Insulated Pouch section below
          var currentItemCountInBoxOfCurrentItem;


          // FUNCTION:  PACK ITEM FUNCTION (one at a time, instead of item bundles)
          function putInBox(valueCurrentItem, spaceSingleCurrentItem, totalValueCurrentItem, currentItemName) {

              if (valueCurrentItem > 0) {

                  var loopCount = 0;
                  var loopCountElse = 0;
                  currentItemCountInBoxOfCurrentItem = 0;

                  while (valueCurrentItem > 0) {
                      // Force-skipping the IF section if the current item is an insulated pouch, to force it into the overflow box
                      if (spaceSingleCurrentItem <= boxValueLeft) {
                          // Reduce value of all combined items to see if you have any leftovers at the very end that never got packed
                          totalValueCurrent = totalValueCurrent - spaceSingleCurrentItem;
                          // Subtract single item value from box space remaining
                          boxValueLeft = boxValueLeft - spaceSingleCurrentItem;
                          // New variable to track if all of the current item type has been packed (might not need this one anymore since i switched to valueCurrentItem for the while loop condition)
                          totalValueCurrentItem = totalValueCurrentItem - spaceSingleCurrentItem;
                          // New variable to track if all of the current item type has been packed (better version, tracking item count, not space taken, which can equal 0 even if there are items left)
                          valueCurrentItem = valueCurrentItem - 1;
                          // Keep count of how many of the current item has been packed into the box.
                          currentItemCountInBoxOfCurrentItem++;

                          loopCount++;

                          // DEBUGGING to show info every time a single item is packed (1 line)
                          if (valueDebug == 1) {
                              outputString = outputString + "\n DEBUGGING INFO: totalValueCurrent = " + totalValueCurrent + ".  boxValueLeft = " + boxValueLeft + ".  totalValueCurrentItem = " + totalValueCurrentItem + ".  spaceSingleCurrentItem = " + spaceSingleCurrentItem + "\n";
                          }
                      }
                      else {
                          // Display how many of this item has been packed into the current box, before switching boxes (if there are 1 or more in there)
                          if (currentItemCountInBoxOfCurrentItem >= 1) {
                              outputString = outputString + "• " + currentItemCountInBoxOfCurrentItem + " " + currentItemName + "\n";
                          }

                          // DEBUGGING
                          if (valueDebug == 1) {
                              outputString = outputString + "\n DEBUGGING INFO: last boxValue = " + boxValue + ".  boxValueLeft = " + boxValueLeft + "\n";
                          }

                          // Change current box to accessory box (or whatever box is next, like 14x14)
                          boxValue = nextBoxValue;
                          // Resets the space remaining in the box to the full total of the new empty box
                          boxValueLeft = boxValue;
                          // Reduce value of all combined items to see if you have any leftovers at the very end that never got packed
                          totalValueCurrent = totalValueCurrent - spaceSingleCurrentItem;
                          // Subtract single item value from box space remaining
                          boxValueLeft = boxValueLeft - spaceSingleCurrentItem;
                          // New variable to track if all of the current item type has been packed (might not need this one anymore since i switched to valueCurrentItem for the while loop condition)
                          totalValueCurrentItem = totalValueCurrentItem - spaceSingleCurrentItem;
                          // New variable to track if all of the current item type has been packed (better version, tracking item count, not space taken, which can equal 0 even if there are items left)
                          valueCurrentItem = valueCurrentItem - 1;
                          // Keep count of how many of the current item has been packed into the box (reset the count to 1 when changing boxes).
                          currentItemCountInBoxOfCurrentItem = 1;
                          // Add item to string to be displayed at the end for what to pack
                          outputString = outputString + "\n" + nextBox + ": \n";
                          // outputString = outputString + "• " + currentItemCountInBoxOfCurrentItem + " " + currentItemName + "\n";

                          // HISTORY:  This breaks using the 14x14 when you have a lot of items, so I'm removing it. Medium should be working better now.
                          // // To work with the Medium Shipper, after using one extra box, define the next extra box to use as the default accessory box (so we don't get multiple medium shippers)
                          // nextBox = "Accessory Box (13x10x5)";
                          // nextBoxValue = packingItem.boxAccessories;


                          // DEBUGGING to show info every time a single item is packed (1 line)
                          if (valueDebug == 1) {
                              outputString = outputString + "\n DEBUGGING INFO: totalValueCurrent = " + totalValueCurrent + ".  boxValueLeft = " + boxValueLeft + ".  totalValueCurrentItem = " + totalValueCurrentItem + ".  spaceSingleCurrentItem = " + spaceSingleCurrentItem + "\n";
                          }

                          loopCount++;
                          loopCountElse++;
                          if (loopCountElse >= 6) {
                              outputString = outputString + "\n DEBUGGING INFO: I tried packing this item into a new box 6 different times and gave up \n";
                              break;
                          }
                          // break;
                      }
                      // Added extra breaks cuz the else loop kept running even after breaking out of it. I guess I didn't break enough to get out of the while loop.
                      // break;
                  }
                  // Display how many of this item has been packed into the box, before exiting while loop
                  outputString = outputString + "• " + currentItemCountInBoxOfCurrentItem + " " + currentItemName + "\n";
              }
          }





          // FUNCTION:  Call item packing function (above), for each item
          // FORMAT:  (valueCurrentItem, spaceSingleCurrentItem, totalValueCurrentItem, currentItemName)
          // TODO:  Maybe wrap each in an IF statement to avoid calling the function every time even with 0 items from that type

          // Pack  API
          putInBox(valueApi, packingItem.api, totalValueApi, "API");

          // Pack  POLD
          putInBox(valuePold, packingItem.pold, totalValuePold, "POLD");

          // Pack  Solid State Relay
          putInBox(valueSsr, packingItem.ssr, totalValueSsr, "Solid State Relay");

          // Pack  Leak Rope (2ft)
          putInBox(valueLeakRope2ft, packingItem.leakRope2ft, totalValueLeakRope2ft, "Leak Rope (2ft)");

          // Pack  Leak Rope (5ft)
          putInBox(valueLeakRope5ft, packingItem.leakRope5ft, totalValueLeakRope5ft, "Leak Rope (5ft)");

          // Pack  Leak Rope (5ft)
          putInBox(valueLeakRope10ft, packingItem.leakRope10ft, totalValueLeakRope10ft, "Leak Rope (10ft)");

          // Pack  Recirc Pump Switch
          if (valueRecirc > 0) {
              // FUNCTION:  Puts the Recirc or Four hour timer into its own box if this is the only overflow item
              if ((valueRecirc == 1 && valueFourHour == 0) && (totalValueCurrent == packingItem.recirc) && (boxValueLeft < packingItem.recirc)) {
                  nextBox = "Recirc/Four Hour Box (9x4x3)";
                  nextBoxValue = packingItem.boxRecirc;


                  // Basically copied the ELSE statement from the function about to be called, 
                  // to make sure it changes boxes to Medium Shipper before packaging and Insulated Pouch
                  // since that's apparently the only box it fits in.
                  // But removed the parts about packing an item. (just showing the new box title)

                  // Change current box to next box
                  boxValue = nextBoxValue;
                  // Resets the space remaining in the box to the full total of the new empty box
                  boxValueLeft = boxValue;
                  // Add item to string to be displayed at the end for what to pack
                  outputString = outputString + "\n" + nextBox + ": \n";
                  // outputString = outputString + "• " + currentItemCountInBoxOfCurrentItem + " " + currentItemName + "\n";


                  // Pack the item (call the function)
                  putInBox(valueRecirc, packingItem.recirc, totalValueRecirc, "Recirc Pump Switch");

                  // Reset nextBox back to accessory box for other items
                  nextBox = "Accessory Box (13x10x5)";
                  nextBoxValue = packingItem.boxAccessories;
              }
              // Otherwise pack it as normal
              else {
                  // Pack the item (call the function)
                  putInBox(valueRecirc, packingItem.recirc, totalValueRecirc, "Recirc Pump Switch");
              }
          }



          // Pack  Four Hour Timer
          if (valueFourHour > 0) {
              // FUNCTION:  Puts the Recirc or Four hour timer into its own box if this is the only overflow item
              if ((valueRecirc == 0 && valueFourHour == 1) && (totalValueCurrent == packingItem.fourHour) && (boxValueLeft < packingItem.fourHour)) {
                  nextBox = "Recirc/Four Hour Box (9x4x3)";
                  nextBoxValue = packingItem.boxRecirc;


                  // Basically copied the ELSE statement from the function about to be called, 
                  // to make sure it changes boxes to Medium Shipper before packaging and Insulated Pouch
                  // since that's apparently the only box it fits in.
                  // But removed the parts about packing an item. (just showing the new box title)

                  // Change current box to next box
                  boxValue = nextBoxValue;
                  // Resets the space remaining in the box to the full total of the new empty box
                  boxValueLeft = boxValue;
                  // Add item to string to be displayed at the end for what to pack
                  outputString = outputString + "\n" + nextBox + ": \n";
                  // outputString = outputString + "• " + currentItemCountInBoxOfCurrentItem + " " + currentItemName + "\n";


                  // Pack the item (call the function)
                  putInBox(valueFourHour, packingItem.fourHour, totalValueFourHour, "Four Hour Timer");

                  // Reset nextBox back to accessory box for other items
                  nextBox = "Accessory Box (13x10x5)";
                  nextBoxValue = packingItem.boxAccessories;
              }
              // Otherwise pack it as normal
              else {
                  // Pack the item (call the function)
                  putInBox(valueFourHour, packingItem.fourHour, totalValueFourHour, "Four Hour Timer");
              }
          }




          // Pack  Junction Box
          if (valueJuncBox > 0) {
              // 14x14x14 = 48 (Use only if EJB is included or if Point total is greater than or equal to 49) -Bryce
              // Might need to reset it back to accessory box afterward
              nextBox = "14x14x14";
              nextBoxValue = packingItem.box14x14;

              // Pack the item (call the function)
              putInBox(valueJuncBox, packingItem.juncBox, totalValueJuncBox, "Junction Box");

              // Reset nextBox back to accessory box for other items
              nextBox = "Accessory Box (13x10x5)";
              nextBoxValue = packingItem.boxAccessories;
          }

          // Pack  Insulated Pouch
          if (valueInsulPouch > 0) {
              // Medium Shipper (20x12x8) = 6 (Used for 2" systems or Insulated Pouch only) -Bryce
              // NOTE:  Insulated Pouch will always only fit into the medium shipper. -Bryce
              nextBox = "Medium Shipper (20x12x8)";
              nextBoxValue = packingItem.boxLdsMedium;


              // Basically copied the ELSE statement from the function about to be called, 
              // to make sure it changes boxes to Medium Shipper before packaging and Insulated Pouch
              // since that's apparently the only box it fits in.
              // But removed the parts about packing an item. (just showing the new box title)

              // Change current box to next box
              boxValue = nextBoxValue;
              // Resets the space remaining in the box to the full total of the new empty box
              boxValueLeft = boxValue;
              // Add item to string to be displayed at the end for what to pack
              outputString = outputString + "\n" + nextBox + ": \n";
              // outputString = outputString + "• " + currentItemCountInBoxOfCurrentItem + " " + currentItemName + "\n";


              // Pack the item (call the function)
              putInBox(valueInsulPouch, packingItem.insulPouch, totalValueInsulPouch, "Insulated Pouch");

              // Reset nextBox back to accessory box for other items
              nextBox = "Accessory Box (13x10x5)";
              nextBoxValue = packingItem.boxAccessories;
          }








          if (totalValueCurrent > 0) {
              // Add item to string to be displayed at the end for what to pack
              outputString = outputString + "\n Hmm there seems to be something left over. Did I forget something in my calculations?\n Contact jake and tell him you'll give him an ice cream if he fixes it.\n DEBUGGING INFO (for leftovers): totalValueTotal = " + totalValueTotal + ". totalValueCurrent = " + totalValueCurrent;
          }



          // For debugging
          // if (valueDebug == 1) {
          outputString = outputString + "\n\n DEBUGGING INFO: last boxValue = " + boxValue + ".  boxValueLeft = " + boxValueLeft;
          outputString = outputString + "\n DEBUGGING INFO: totalValueTotal = " + totalValueTotal + ".  totalValueCurrent = " + totalValueCurrent;
          // }

          return outputString;
      }


      // THE FINAL CODE RUN TO SHOW RESULTS OUTPUT IS IN THE BLOCK ABOVE/BEFORE THIS FUNCTION, NOT HERE






  });

